{"version":3,"sources":["webpack:///./src/views/shop/category/list.vue?8b1c","webpack:///./src/views/shop/category/list.vue","webpack:///src/views/shop/category/list.vue","webpack:///./src/views/shop/category/list.vue?4b47","webpack:///./src/views/shop/category/list.vue?c4dc"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","on","createTop","_v","data","defaultProps","handleNodeClick","nodeDrop","nodeDragEnd","scopedSlots","_u","key","fn","_ref","node","editStatus","model","value","name","callback","$$v","$set","expression","_s","label","status","$event","stopPropagation","showOrHide","append","edit","remove","staticRenderFns","inject","children","created","__init","computed","sortData","sort","arr","forEach","item","push","child","length","map","index","id","order","category_id","methods","_this","layout","showLoading","axios","get","token","then","res","addEditStatus","hideLoading","catch","err","console","log","_this2","msg","post","$message","message","type","_this3","_this4","$confirm","confirmButtonText","cancelButtonText","delete","_this5","obj","_len","arguments","options","Array","_key","_this6","sortdata","JSON","stringify","_this7","$prompt","inputValidator","val","component"],"mappings":"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","file":"js/chunk-0e9dc5e2.0770a6ba.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=f508ba72&prod&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"bg-white px-3\",staticStyle:{\"margin\":\"-20px\",\"margin-top\":\"-1rem\",\"margin-bottom\":\"0!important\"}},[_c('div',{staticClass:\"py-2 border-bottom d-flex align-items-center\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.createTop}},[_vm._v(\"创建顶级分类\")])],1),_c('el-tree',{attrs:{\"data\":_vm.data,\"props\":_vm.defaultProps,\"default-expand-all\":\"\",\"expand-on-click-node\":false,\"draggable\":\"\"},on:{\"node-click\":_vm.handleNodeClick,\"node-drop\":_vm.nodeDrop,\"node-drag-end\":_vm.nodeDragEnd},scopedSlots:_vm._u([{key:\"default\",fn:function({ node, data }){return _c('span',{staticClass:\"custom-tree-node\"},[_c('div',[(data.editStatus)?_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(data.name),callback:function ($$v) {_vm.$set(data, \"name\", $$v)},expression:\"data.name\"}}):_c('span',[_vm._v(_vm._s(node.label))])],1),_c('span',[_c('el-button',{attrs:{\"type\":data.status ? 'primary' : 'danger',\"size\":\"mini\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showOrHide(data)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(data.status ? '显示' : '隐藏')+\"\\n\\t\\t\\t\\t\")]),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.append(data)}}},[_vm._v(\"增加\")]),_c('el-button',{attrs:{\"type\":data.editStatus ? 'default':'warning',\"size\":\"mini\"},on:{\"click\":function($event){return _vm.edit(data)}}},[_vm._v(_vm._s(data.editStatus ? '完成':'修改'))]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.remove(node,data)}}},[_vm._v(\"删除\")])],1)])}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"bg-white px-3\" style=\"margin: -20px;margin-top: -1rem;margin-bottom: 0!important;\">\r\n\r\n\t\t<div class=\"py-2 border-bottom d-flex align-items-center\">\r\n\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"createTop\">创建顶级分类</el-button>\r\n\t\t</div>\r\n\r\n\r\n\t\t<el-tree :data=\"data\" :props=\"defaultProps\" @node-click=\"handleNodeClick\" default-expand-all :expand-on-click-node=\"false\"\r\n\t\t draggable @node-drop=\"nodeDrop\" @node-drag-end=\"nodeDragEnd\">\r\n\r\n\t\t\t<span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<el-input v-if=\"data.editStatus\" v-model=\"data.name\" size=\"mini\"></el-input>\r\n\t\t\t\t\t<span v-else>{{ node.label }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<el-button :type=\"data.status ? 'primary' : 'danger'\" size=\"mini\" @click.stop=\"showOrHide(data)\">\r\n\t\t\t\t\t\t{{data.status ? '显示' : '隐藏'}}\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t\t<el-button type=\"success\" size=\"mini\" @click=\"append(data)\">增加</el-button>\r\n\t\t\t\t\t<el-button :type=\"data.editStatus ? 'default':'warning'\" size=\"mini\" @click=\"edit(data)\">{{data.editStatus ? '完成':'修改'}}</el-button>\r\n\t\t\t\t\t<el-button type=\"danger\" size=\"mini\" @click=\"remove(node,data)\">删除</el-button>\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\r\n\t\t</el-tree>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tinject:['layout'],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdata: [],\r\n\t\t\t\tdefaultProps: {\r\n\t\t\t\t\tchildren: 'child',\r\n\t\t\t\t\tlabel: 'name'\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.__init()\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 排序后的数据\r\n\t\t\tsortData() {\r\n\t\t\t\tlet data = []\r\n\t\t\t\tlet sort = function(arr){\r\n\t\t\t\t\tarr.forEach(item=>{\r\n\t\t\t\t\t\tdata.push(item)\r\n\t\t\t\t\t\tif(item.child.length){\r\n\t\t\t\t\t\t\tsort(item.child)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t// 多维数组转一维数组\r\n\t\t\t\tsort(this.data)\r\n\t\t\t\t// 排序\r\n\t\t\t\tdata = data.map((item,index)=>{\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid:item.id,\r\n\t\t\t\t\t\torder:index,\r\n\t\t\t\t\t\tcategory_id:item.category_id\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn data\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 初始化\r\n\t\t\t__init() {\r\n\t\t\t\tthis.layout.showLoading()\r\n\t\t\t\tthis.axios.get('/admin/category',{\r\n\t\t\t\t\ttoken:true\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tlet data = res.data.data\r\n\t\t\t\t\tlet addEditStatus = function(arr){\r\n\t\t\t\t\t\tarr.forEach(item=>{\r\n\t\t\t\t\t\t\titem.editStatus = false\r\n\t\t\t\t\t\t\tif(item.child.length){\r\n\t\t\t\t\t\t\t\taddEditStatus(item.child)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\taddEditStatus(data)\r\n\t\t\t\t\tthis.data = data\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleNodeClick(data) {\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t},\r\n\t\t\t// 显示/隐藏\r\n\t\t\tshowOrHide(data) {\r\n\t\t\t\tthis.layout.showLoading()\r\n\t\t\t\tlet status = data.status ? 0 : 1\r\n\t\t\t\tlet msg = status ? '显示' : '隐藏'\r\n\t\t\t\tthis.axios.post('/admin/category/'+data.id+'/update_status',{ status },{ token:true }).then(res=>{\r\n\t\t\t\t\tdata.status = status\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: msg+'成功',\r\n\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 编辑|提交\r\n\t\t\tedit(data) {\r\n\t\t\t\tif(!data.editStatus){\r\n\t\t\t\t\treturn data.editStatus = true\r\n\t\t\t\t}\r\n\t\t\t\tif(data.name == ''){\r\n\t\t\t\t\treturn this.$message({\r\n\t\t\t\t\t\tmessage: '分类名称不能为空',\r\n\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.layout.showLoading()\r\n\t\t\t\tthis.axios.post('/admin/category/'+data.id,{\r\n\t\t\t\t\tstatus:data.status,\r\n\t\t\t\t\tname:data.name,\r\n\t\t\t\t\tcategory_id:data.category_id\r\n\t\t\t\t},{\r\n\t\t\t\t\ttoken:true\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '修改成功',\r\n\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tdata.editStatus = false\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 删除\r\n\t\t\tremove(node, data) {\r\n\t\t\t\tthis.$confirm('此操作将删除该分类, 是否继续?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '删除',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.layout.showLoading()\r\n\t\t\t\t\tthis.axios.delete('/admin/category/'+data.id,{\r\n\t\t\t\t\t\ttoken:true\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\tthis.__init()\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '删除成功',\r\n\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t// 增加子分类\r\n\t\t\tappend(data) {\r\n\t\t\t\tthis.layout.showLoading()\r\n\t\t\t\tthis.axios.post('/admin/category',{\r\n\t\t\t\t\tstatus:0,\r\n\t\t\t\t\tname:\"新分类\",\r\n\t\t\t\t\tcategory_id:data.id\r\n\t\t\t\t},{\r\n\t\t\t\t\ttoken:true\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tlet obj = res.data.data\r\n\t\t\t\t\tobj.editStatus = true\r\n\t\t\t\t\tobj.child = []\r\n\t\t\t\t\tdata.child.push(obj)\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 拖拽结束\r\n\t\t\tnodeDragEnd(...options){\r\n\t\t\t\t// 被拖拽节点对应的数据\r\n\t\t\t\tlet item = options[0].data\r\n\t\t\t\t// 结束拖拽时最后进入的节点数据\r\n\t\t\t\tlet obj = options[1].data\r\n\t\t\t\tif(obj){\r\n\t\t\t\t\tif(options[2] === 'before' || options[2] === \"after\"){\r\n\t\t\t\t\t\titem.category_id = obj.category_id\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.category_id = obj.id\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 拖拽\r\n\t\t\tnodeDrop(...options) {\r\n\t\t\t\tthis.layout.showLoading()\r\n\t\t\t\tthis.axios.post('/admin/category/sort',{\r\n\t\t\t\t\tsortdata:JSON.stringify(this.sortData)\r\n\t\t\t\t},{\r\n\t\t\t\t\ttoken:true\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.__init()\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 创建顶级分类\r\n\t\t\tcreateTop() {\r\n\t\t\t\tthis.$prompt('请输入顶级分类名称', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '创建',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\tinputValidator: function(val) {\r\n\t\t\t\t\t\tif (val === '' || val === null) {\r\n\t\t\t\t\t\t\treturn '顶级分类名称不能为空'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(({\r\n\t\t\t\t\tvalue\r\n\t\t\t\t}) => {\r\n\t\t\t\t\tthis.layout.showLoading()\r\n\t\t\t\t\tthis.axios.post('/admin/category',{\r\n\t\t\t\t\t\tstatus:0,\r\n\t\t\t\t\t\tcategory_id:0,\r\n\t\t\t\t\t\tname:value\r\n\t\t\t\t\t},{\r\n\t\t\t\t\t\ttoken:true\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\tthis.__init()\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '创建成功',\r\n\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.custom-tree-node {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tfont-size: 14px;\r\n\t\tpadding-right: 8px;\r\n\t}\r\n\r\n\t.el-tree-node__content {\r\n\t\tpadding: 20px 0;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=f508ba72&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=f508ba72&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}