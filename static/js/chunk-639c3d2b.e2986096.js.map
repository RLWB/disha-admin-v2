{"version":3,"sources":["webpack:///./src/views/shop/goods/attr.vue","webpack:///src/views/shop/goods/attr.vue","webpack:///./src/views/shop/goods/attr.vue?8d23","webpack:///./src/views/shop/goods/attr.vue?3b94","webpack:///./src/views/shop/goods/attr.vue?3d69"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","name","_v","ref","on","change","model","value","goods_type_id","callback","$$v","expression","_l","typeOptions","item","index","key","id","slot","goods_type_values","type","$set","default","item2","index2","_s","_e","submit","staticRenderFns","inject","data","created","_this","$route","params","$message","message","$router","push","layout","showLoading","axios","get","token","then","res","goodsAttrs","map","split","types","hideLoading","catch","err","computed","methods","_this2","findIndex","options","defaultVal","goods_id","_this3","post","goods_attrs","join","component"],"mappings":"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","file":"js/chunk-639c3d2b.e2986096.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"bg-white px-3 goods_create\",staticStyle:{\"margin\":\"-20px\",\"margin-top\":\"-1rem\",\"margin-bottom\":\"0!important\"}},[_c('router-link',{staticStyle:{\"position\":\"absolute\",\"top\":\"12px\",\"left\":\"200px\"},attrs:{\"to\":{name:'shop_goods_list'}}},[_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"回到商品列表\")])],1),_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择商品类型\"},on:{\"change\":_vm.change},model:{value:(_vm.goods_type_id),callback:function ($$v) {_vm.goods_type_id=$$v},expression:\"goods_type_id\"}},_vm._l((_vm.typeOptions),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)],1),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"商品属性\")])]),_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"80px\"}},_vm._l((_vm.goods_type_values),function(item,index){return _c('el-form-item',{key:index,attrs:{\"label\":item.name}},[(item.type === 'input')?_c('el-input',{model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):(item.type === 'radio')?_c('el-radio-group',{model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}},_vm._l((item.default),function(item2,index2){return _c('el-radio',{key:index2,attrs:{\"label\":item2}},[_vm._v(_vm._s(item2))])}),1):(item.type === 'checkbox')?_c('el-checkbox-group',{model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}},_vm._l((item.default),function(item2,index2){return _c('el-checkbox',{key:index2,attrs:{\"label\":item2}})}),1):_vm._e()],1)}),1)],1),_c('el-button',{staticStyle:{\"position\":\"fixed\",\"bottom\":\"50px\",\"right\":\"50px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"bg-white px-3 goods_create\" style=\"margin: -20px;margin-top: -1rem;margin-bottom: 0!important;\">\r\n\t\t<router-link :to=\"{name:'shop_goods_list'}\" style=\"position: absolute;top: 12px;left: 200px;\">\r\n\t\t\t<el-button size=\"mini\">回到商品列表</el-button>\r\n\t\t</router-link>\r\n\t\t\r\n\t\t<el-form ref=\"form\" label-width=\"80px\">\r\n\t\t\t<el-form-item label=\"商品类型\">\r\n\t\t\t\t<el-select v-model=\"goods_type_id\" placeholder=\"请选择商品类型\" @change=\"change\">\r\n\t\t\t\t\t<el-option v-for=\"(item,index) in typeOptions\" :key=\"index\" \r\n\t\t\t\t\t:label=\"item.name\" :value=\"item.id\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<el-card class=\"box-card\">\r\n\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t<span>商品属性</span>\r\n\t\t\t</div>\r\n\t\t\t<el-form ref=\"form\" label-width=\"80px\">\r\n\t\t\t\t<el-form-item :label=\"item.name\" v-for=\"(item,index) in goods_type_values\"\r\n\t\t\t\t:key=\"index\">\r\n\t\t\t\t\t<el-input v-if=\"item.type === 'input'\" v-model=\"item.value\"></el-input>\r\n\t\t\t\t\t<el-radio-group v-else-if=\"item.type === 'radio'\" v-model=\"item.value\">\r\n\t\t\t\t\t    <el-radio v-for=\"(item2,index2) in item.default\" :key=\"index2\" :label=\"item2\">{{item2}}</el-radio>\r\n\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t\t<el-checkbox-group v-else-if=\"item.type === 'checkbox'\" \r\n\t\t\t\t\tv-model=\"item.value\">\r\n\t\t\t\t\t    <el-checkbox v-for=\"(item2,index2) in item.default\" :key=\"index2\" :label=\"item2\"></el-checkbox>\r\n\t\t\t\t\t</el-checkbox-group>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</el-card>\r\n\t\t\r\n\t\t\r\n\t\t<el-button type=\"primary\" style=\"position: fixed;bottom: 50px;right: 50px;\" @click=\"submit\">提交</el-button>\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tinject:['app','layout'],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tgoods_type_id:\"\",\r\n\t\t\t\ttypeOptions:[],\r\n\t\t\t\tgoods_type_values:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.id = this.$route.params.id\r\n\t\t\tif (!this.id) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype:\"error\",\r\n\t\t\t\t\tmessage:\"非法参数\"\r\n\t\t\t\t})\r\n\t\t\t\treturn this.$router.push({\r\n\t\t\t\t\tname:\"shop_goods_list\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t// 获取之前的商品详情\r\n\t\t\tthis.layout.showLoading()\r\n\t\t\tthis.axios.get('/admin/goods/read/'+this.id,{\r\n\t\t\t\ttoken:true\r\n\t\t\t}).then(res=>{\r\n\t\t\t\tlet data = res.data.data\r\n\t\t\t\tthis.goods_type_values = data.goodsAttrs.map(item=>{\r\n\t\t\t\t\tif(item.type !== 'input'){\r\n\t\t\t\t\t\titem.default = item.default.split(',')\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn item\r\n\t\t\t\t})\r\n\t\t\t\tthis.typeOptions = data.types\r\n\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t}).catch(err=>{\r\n\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t})\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchange(id){\r\n\t\t\t\tlet index = this.typeOptions.findIndex(item=>item.id === id)\r\n\t\t\t\tif(index === -1){\r\n\t\t\t\t\treturn this.goods_type_values = []\r\n\t\t\t\t}\r\n\t\t\t\tlet options = this.typeOptions[index].goods_type_values\r\n\t\t\t\tthis.goods_type_values = options.map(item=>{\r\n\t\t\t\t\tlet defaultVal = []\r\n\t\t\t\t\tif(item.type !== 'input'){\r\n\t\t\t\t\t\tdefaultVal = item.default ? item.default.split(',') : []\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn { \r\n\t\t\t\t\t\tgoods_id:this.id,\r\n\t\t\t\t\t\tvalue:\"\",\r\n\t\t\t\t\t\tname:item.name,\r\n\t\t\t\t\t\tdefault:defaultVal,\r\n\t\t\t\t\t\ttype:item.type,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsubmit(){\r\n\t\t\t\tthis.layout.showLoading()\r\n\t\t\t\tthis.axios.post('/admin/goods/attrs/'+this.id,{\r\n\t\t\t\t\tgoods_attrs:this.goods_type_values.map(item=>{\r\n\t\t\t\t\t\tif(item.type !== 'input'){\r\n\t\t\t\t\t\t\titem.default = item.default.join(',')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn item\r\n\t\t\t\t\t})\r\n\t\t\t\t},{\r\n\t\t\t\t\ttoken:true\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype:\"success\",\r\n\t\t\t\t\t\tmessage:\"修改成功\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname:\"shop_goods_list\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.goods_create .el-form-item{\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./attr.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./attr.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./attr.vue?vue&type=template&id=6c6ffdc5&\"\nimport script from \"./attr.vue?vue&type=script&lang=js&\"\nexport * from \"./attr.vue?vue&type=script&lang=js&\"\nimport style0 from \"./attr.vue?vue&type=style&index=0&id=6c6ffdc5&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./attr.vue?vue&type=style&index=0&id=6c6ffdc5&prod&lang=css&\""],"sourceRoot":""}