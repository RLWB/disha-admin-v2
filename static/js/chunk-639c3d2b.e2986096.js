(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-639c3d2b"],{"0374":function(t,e,a){"use strict";a.r(e);a("7f7f");var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white px-3 goods_create",staticStyle:{margin:"-20px","margin-top":"-1rem","margin-bottom":"0!important"}},[e("router-link",{staticStyle:{position:"absolute",top:"12px",left:"200px"},attrs:{to:{name:"shop_goods_list"}}},[e("el-button",{attrs:{size:"mini"}},[t._v("回到商品列表")])],1),e("el-form",{ref:"form",attrs:{"label-width":"80px"}},[e("el-form-item",{attrs:{label:"商品类型"}},[e("el-select",{attrs:{placeholder:"请选择商品类型"},on:{change:t.change},model:{value:t.goods_type_id,callback:function(e){t.goods_type_id=e},expression:"goods_type_id"}},t._l(t.typeOptions,(function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.id}})})),1)],1)],1),e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("商品属性")])]),e("el-form",{ref:"form",attrs:{"label-width":"80px"}},t._l(t.goods_type_values,(function(a,o){return e("el-form-item",{key:o,attrs:{label:a.name}},["input"===a.type?e("el-input",{model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"item.value"}}):"radio"===a.type?e("el-radio-group",{model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"item.value"}},t._l(a.default,(function(a,o){return e("el-radio",{key:o,attrs:{label:a}},[t._v(t._s(a))])})),1):"checkbox"===a.type?e("el-checkbox-group",{model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"item.value"}},t._l(a.default,(function(t,a){return e("el-checkbox",{key:a,attrs:{label:t}})})),1):t._e()],1)})),1)],1),e("el-button",{staticStyle:{position:"fixed",bottom:"50px",right:"50px"},attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")])],1)},s=[],i=(a("20d6"),a("28a5"),{inject:["app","layout"],data:function(){return{goods_type_id:"",typeOptions:[],goods_type_values:[]}},created:function(){var t=this;if(this.id=this.$route.params.id,!this.id)return this.$message({type:"error",message:"非法参数"}),this.$router.push({name:"shop_goods_list"});this.layout.showLoading(),this.axios.get("/admin/goods/read/"+this.id,{token:!0}).then((function(e){var a=e.data.data;t.goods_type_values=a.goodsAttrs.map((function(t){return"input"!==t.type&&(t.default=t.default.split(",")),t})),t.typeOptions=a.types,t.layout.hideLoading()})).catch((function(e){t.layout.hideLoading()}))},computed:{},methods:{change:function(t){var e=this,a=this.typeOptions.findIndex((function(e){return e.id===t}));if(-1===a)return this.goods_type_values=[];var o=this.typeOptions[a].goods_type_values;this.goods_type_values=o.map((function(t){var a=[];return"input"!==t.type&&(a=t.default?t.default.split(","):[]),{goods_id:e.id,value:"",name:t.name,default:a,type:t.type}}))},submit:function(){var t=this;this.layout.showLoading(),this.axios.post("/admin/goods/attrs/"+this.id,{goods_attrs:this.goods_type_values.map((function(t){return"input"!==t.type&&(t.default=t.default.join(",")),t}))},{token:!0}).then((function(e){t.$message({type:"success",message:"修改成功"}),t.$router.push({name:"shop_goods_list"}),t.layout.hideLoading()})).catch((function(e){t.layout.hideLoading()}))}}}),n=i,l=(a("5aba"),a("2877")),u=Object(l["a"])(n,o,s,!1,null,null,null);e["default"]=u.exports},"5aba":function(t,e,a){"use strict";a("c044")},c044:function(t,e,a){}}]);
//# sourceMappingURL=chunk-639c3d2b.e2986096.js.map