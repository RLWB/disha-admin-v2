(function(e){function t(t){for(var i,a,r=t[0],c=t[1],u=t[2],l=0,d=[];l<r.length;l++)a=r[l],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);h&&h(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var r=n[a];0!==s[r]&&(i=!1)}i&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},a={app:0},s={app:0},o=[];function r(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-08bce6f2":"ecbdf9b4","chunk-0e9dc5e2":"0770a6ba","chunk-27f2d2b0":"11eb87c0","chunk-28430118":"9ebc5efb","chunk-233be155":"98fdc1ca","chunk-2d0c11d4":"f0927d88","chunk-2d0c7a88":"73abdb2d","chunk-2d0c7f34":"83594642","chunk-2d229624":"ddee13a1","chunk-3be5587b":"2f971b7a","chunk-3daf3189":"d0d79d0b","chunk-44d3792a":"b2a52969","chunk-57288f4e":"951e9d4d","chunk-5adf8291":"833fff0c","chunk-5ae26a14":"268b37a7","chunk-5ae2e2b5":"fb31cea6","chunk-5af778e1":"b48b39a9","chunk-639c3d2b":"e2986096","chunk-72bfaca0":"43fc7ac3","chunk-768b0d8a":"3798ceca","chunk-7abe0835":"c07c0f11","chunk-878cfa6a":"88eb252f","chunk-ab7b3aa2":"20fe1d5e","chunk-14d02d9e":"119f8853","chunk-3b9db539":"126f73f8","chunk-c0890566":"577e1d00","chunk-d3beedce":"8a653c2e"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-08bce6f2":1,"chunk-0e9dc5e2":1,"chunk-233be155":1,"chunk-3be5587b":1,"chunk-57288f4e":1,"chunk-639c3d2b":1,"chunk-7abe0835":1,"chunk-14d02d9e":1,"chunk-3b9db539":1,"chunk-c0890566":1,"chunk-d3beedce":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var i="css/"+({}[e]||e)+"."+{"chunk-08bce6f2":"4c7e2d92","chunk-0e9dc5e2":"7458d807","chunk-27f2d2b0":"31d6cfe0","chunk-28430118":"31d6cfe0","chunk-233be155":"c467d9fd","chunk-2d0c11d4":"31d6cfe0","chunk-2d0c7a88":"31d6cfe0","chunk-2d0c7f34":"31d6cfe0","chunk-2d229624":"31d6cfe0","chunk-3be5587b":"4c7e2d92","chunk-3daf3189":"31d6cfe0","chunk-44d3792a":"31d6cfe0","chunk-57288f4e":"d7fd146d","chunk-5adf8291":"31d6cfe0","chunk-5ae26a14":"31d6cfe0","chunk-5ae2e2b5":"31d6cfe0","chunk-5af778e1":"31d6cfe0","chunk-639c3d2b":"c467d9fd","chunk-72bfaca0":"31d6cfe0","chunk-768b0d8a":"31d6cfe0","chunk-7abe0835":"4c7e2d92","chunk-878cfa6a":"31d6cfe0","chunk-ab7b3aa2":"31d6cfe0","chunk-14d02d9e":"c467d9fd","chunk-3b9db539":"c467d9fd","chunk-c0890566":"c467d9fd","chunk-d3beedce":"c467d9fd"}[e]+".css",s=c.p+i,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var u=o[r],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===i||l===s))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){u=d[r],l=u.getAttribute("data-href");if(l===i||l===s)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var i=t&&t.target&&t.target.src||s,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete a[e],h.parentNode.removeChild(h),n(o)},h.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(h)})).then((function(){a[e]=0})));var i=s[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise((function(t,n){i=s[e]=[t,n]}));t.push(i[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=r(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(h);var n=s[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",d.name="ChunkLoadError",d.type=i,d.request=a,n[1](d)}s[e]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var h=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1a5d":function(e,t,n){var i={"./error/404.vue":["2754","chunk-72bfaca0"],"./image/index.vue":["e036","chunk-57288f4e"],"./index/index.vue":["37f9","chunk-878cfa6a"],"./layout.vue":["ed3a","chunk-768b0d8a"],"./login/index.vue":["9ed6","chunk-44d3792a"],"./order/after-sale/list.vue":["c041","chunk-3be5587b"],"./order/invoice/list.vue":["427f","chunk-7abe0835"],"./order/order/list.vue":["0931","chunk-5adf8291"],"./set/base/index.vue":["520e","chunk-2d0c7a88"],"./set/express/index.vue":["dce4","chunk-2d229624"],"./set/manager/index.vue":["5399","chunk-2d0c7f34"],"./set/payment/index.vue":["4552","chunk-2d0c11d4"],"./shop/category/list.vue":["f483","chunk-0e9dc5e2"],"./shop/comment/list.vue":["5d50","chunk-5ae26a14"],"./shop/goods/attr.vue":["0374","chunk-639c3d2b"],"./shop/goods/banner.vue":["b1c6","chunk-d3beedce"],"./shop/goods/content.vue":["1cde","chunk-ab7b3aa2","chunk-3b9db539"],"./shop/goods/create.1.vue":["ebb1","chunk-ab7b3aa2","chunk-28430118","chunk-14d02d9e"],"./shop/goods/create.vue":["e3fc","chunk-c0890566"],"./shop/goods/list.vue":["30bf","chunk-3daf3189"],"./shop/goods/sku.vue":["79ec","chunk-28430118","chunk-233be155"],"./shop/sku/list.vue":["6e95","chunk-5ae2e2b5"],"./shop/type/list.vue":["e1a4","chunk-08bce6f2"],"./user/user-level/list.vue":["e05a","chunk-5af778e1"],"./user/user-list/list.vue":["e0e8","chunk-27f2d2b0"]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(i)},a.id="1a5d",e.exports=a},"56d7":function(e,t,n){"use strict";n.r(t);n("7514"),n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=n("bc3a"),s=n.n(a),o={},r=s.a.create(o);r.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),r.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,t){e.axios=r,window.axios=r,Object.defineProperties(e.prototype,{axios:{get:function(){return r}},$axios:{get:function(){return r}}})},i["default"].use(Plugin);Plugin;var c=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("el-button",{on:{click:e.handleRoutes}},[e._v("获取路由")]),t("router-view"),t("image-dialog",{ref:"imageDialog",attrs:{max:e.maxChooseImage}}),t("skus-dialog",{ref:"skusDialog"})],1)},u=[],l=(n("7f7f"),function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"图片管理",visible:e.imageModel,width:"80%",top:"5vh"},on:{"update:visible":function(t){e.imageModel=t}}},[t("el-container",{staticStyle:{position:"relative",height:"70vh",margin:"-30px -20px"}},[t("el-header",{staticClass:"d-flex align-items-center border-bottom"},[t("div",{staticClass:"d-flex mr-auto"},[t("el-select",{staticClass:"mr-2",staticStyle:{width:"150px"},attrs:{placeholder:"请选择图片排序方式",size:"mini"},model:{value:e.searchForm.order,callback:function(t){e.$set(e.searchForm,"order",t)},expression:"searchForm.order"}},[t("el-option",{attrs:{label:"降序",value:"desc"}}),t("el-option",{attrs:{label:"升序",value:"asc"}})],1),t("el-input",{staticClass:"mr-2",staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"输入相册名称"},model:{value:e.searchForm.keyword,callback:function(t){e.$set(e.searchForm,"keyword",t)},expression:"searchForm.keyword"}}),t("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.getImageList}},[e._v("搜索")])],1)]),t("el-container",[t("el-aside",{directives:[{name:"loading",rawName:"v-loading",value:e.asideLoading,expression:"asideLoading"}],staticClass:"bg-white border-right",staticStyle:{position:"absolute",top:"60px",left:"0",bottom:"60px"},attrs:{width:"200px"}},[t("ul",{staticClass:"list-group list-group-flush"},e._l(e.albums,(function(n,i){return t("album-item",{key:i,attrs:{item:n,index:i,active:e.albumIndex===i,showOptions:!1},on:{change:e.albumChange}})})),1)]),t("el-container",[t("el-main",{directives:[{name:"loading",rawName:"v-loading",value:e.mainLoading,expression:"mainLoading"}],staticStyle:{position:"absolute",top:"60px",left:"200px",bottom:"60px",right:"0"}},[t("el-row",{attrs:{gutter:10}},e._l(e.imageList,(function(n,i){return t("el-col",{key:i,attrs:{span:24,lg:4,md:6,sm:8}},[t("el-card",{staticClass:"box-card mb-3 position-relative",staticStyle:{cursor:"pointer"},attrs:{"body-style":{padding:"0"},shadow:"hover"}},[t("div",{staticClass:"border",class:{"border-danger":n.ischeck}},[n.ischeck?t("span",{staticClass:"badge badge-danger",staticStyle:{position:"absolute",right:"0",top:"0"}},[e._v("\n\t\t\t\t\t\t"+e._s(n.checkOrder))]):e._e(),t("img",{staticClass:"w-100",staticStyle:{height:"100px"},attrs:{src:n.url},on:{click:function(t){return e.choose(n)}}}),t("div",{staticClass:"w-100 text-white px-1",staticStyle:{background:"rgba(0,0,0,0.5)","margin-top":"-25px",position:"absolute"}},[t("span",{staticClass:"small"},[e._v(e._s(n.name))])]),t("div",{staticClass:"p-2 text-center"},[t("el-button-group",[t("el-button",{staticClass:"p-2",attrs:{icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.imageEdit(n,i)}}}),t("el-button",{staticClass:"p-2",attrs:{icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.imageDel({index:i})}}})],1)],1)])])],1)})),1)],1)],1)],1),t("el-footer",{staticClass:"border-top d-flex align-items-center px-0"},[t("div",{staticClass:"h-100 d-flex align-items-center justify-content-center border-right",staticStyle:{width:"200px","flex-shrink":"0"}},[t("el-button-group",[t("el-button",{attrs:{size:"mini",disabled:1===e.albumPage},on:{click:function(t){return e.changeAlbumPage("pre")}}},[e._v("上一页")]),t("el-button",{attrs:{size:"mini",disabled:e.albumPage===Math.ceil(e.albumTotal/10)},on:{click:function(t){return e.changeAlbumPage("next")}}},[e._v("下一页")])],1)],1),t("div",{staticClass:"px-2",staticStyle:{flex:"1"}},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.hide}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)}),d=[],h=(n("20d6"),n("ac6a"),n("c5f6"),n("b832")),m={props:{max:{type:Number,default:9}},components:{albumItem:h["a"]},data:function(){return{imageModel:!1,callback:!1,searchForm:{order:"",keyword:""},albumIndex:0,albums:[],albumPage:1,albumTotal:0,imageList:[],chooseList:[],currentPage:1,pageSize:10,pageSizes:[10,20,50,100],total:10,asideLoading:!1,mainLoading:!1}},computed:{image_class_id:function(){var e=this.albums[this.albumIndex];return e?e.id:0},getImageListUrl:function(){var e="";return""!=this.searchForm.keyword&&(e="&keyword=".concat(this.searchForm.keyword)),"/admin/imageclass/".concat(this.image_class_id,"/image/").concat(this.currentPage,"?limit=").concat(this.pageSize,"&order=").concat(this.searchForm.order).concat(e)}},methods:{changeAlbumPage:function(e){"pre"===e?this.albumPage--:this.albumPage++,this.__init()},chooseImage:function(e){this.__init(),this.callback=e,this.imageModel=!0,this.unChoose()},confirm:function(){"function"===typeof this.callback&&this.callback(this.chooseList),this.hide()},hide:function(){this.imageModel=!1,this.callback=!1},unChoose:function(){var e=this;this.imageList.forEach((function(t){var n=e.chooseList.findIndex((function(e){return e.id===t.id}));n>-1&&(t.ischeck=!1,t.checkOrder=0,e.chooseList.splice(n,1))}))},choose:function(e){var t=this;if(!e.ischeck)return this.chooseList.length>=this.max?this.$message({message:"最多选择"+this.max+"张图片",type:"warning"}):(this.chooseList.push({id:e.id,url:e.url}),e.checkOrder=this.chooseList.length,void(e.ischeck=!0));var n=this.chooseList.findIndex((function(t){return t.id===e.id}));if(-1!==n){var i=this.chooseList.length;if(n+1<i)for(var a=function(e){var n=t.imageList.findIndex((function(n){return n.id===t.chooseList[e].id}));n>-1&&t.imageList[n].checkOrder--},s=n;s<i;s++)a(s);this.chooseList.splice(n,1),e.ischeck=!1,e.checkOrder=0}},__init:function(){var e=this;this.asideLoading=!0,this.axios.get("/admin/imageclass/"+this.albumPage,{token:!0}).then((function(t){var n=t.data.data;e.albums=n.list,e.albumTotal=n.totalCount,e.asideLoading=!1,e.getImageList()})).catch((function(t){e.asideLoading=!1}))},getImageList:function(){var e=this;this.mainLoading=!0,this.axios.get(this.getImageListUrl,{token:!0}).then((function(t){var n=t.data.data;e.imageList=n.list.map((function(e){return{id:e.id,url:e.url,name:e.name,ischeck:!1,checkOrder:0}})),e.total=n.totalCount,e.mainLoading=!1})).catch((function(t){e.mainLoading=!1}))},albumChange:function(e){this.albumIndex=e,this.getImageList()},imageEdit:function(e,t){var n=this;this.$prompt("请输入新名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:e.name,inputValidator:function(e){if(""===e)return"图片名称不能为空"}}).then((function(t){var i=t.value;e.name=i,n.$message({message:"修改成功",type:"success"})}))},imageDel:function(e){var t=this;this.$confirm(e.all?"是否删除选中图片?":"是否删除该图片?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(e.all){var n=t.imageList.filter((function(e){return!t.chooseList.some((function(t){return t.id===e.id}))}));t.imageList=n,t.chooseList=[]}else t.imageList.splice(e.index,1);t.$message({message:"删除成功",type:"success"})}))},handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){console.log("当前页: ".concat(e))}}},p=m,f=n("2877"),g=Object(f["a"])(p,l,d,!1,null,null,null),k=g.exports,v=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"商品规格选择",visible:e.createModel,width:"80%",top:"5vh"},on:{"update:visible":function(t){e.createModel=t}}},[t("el-container",{staticStyle:{position:"relative",height:"70vh",margin:"-30px -20px"}},[t("el-container",[t("el-aside",{staticClass:"bg-white border-right",staticStyle:{position:"absolute",top:"0",left:"0",bottom:"50px"},attrs:{width:"200px"}},[t("ul",{staticClass:"list-group list-group-flush"},e._l(e.skusList,(function(n,i){return t("li",{key:i,staticClass:"list-group-item list-group-item-action",class:e.skuIndex===i?"sum-active":"",on:{click:function(t){return e.changeSku(i)}}},[e._v(e._s(n.name))])})),0)]),t("el-footer",{staticClass:"border",staticStyle:{position:"absolute",left:"0",bottom:"0",height:"50px",width:"200px",display:"flex","align-items":"center","justify-content":"center"}},[t("el-pagination",{attrs:{"current-page":e.page.current,"page-sizes":e.page.sizes,"page-size":e.page.size,layout:"prev, next",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("el-container",[t("el-header",{staticClass:"border-top border-bottom",staticStyle:{position:"absolute",top:"0",left:"200px",right:"0",height:"60px","line-height":"60px"}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.doChooseAll}},[e._v("\n\t\t\t\t\t"+e._s(e.isChooseAll?"取消全选":"全选")+"\n\t\t\t\t")])],1),t("el-main",{staticStyle:{position:"absolute",top:"60px",left:"200px",bottom:"0",right:"0"}},[t("div",{staticClass:"d-flex flex-wrap"},e._l(e.skuItems,(function(n,i){return t("span",{key:i,staticClass:"border rounded py-1 px-2 m-2",class:n.ischeck?"sum-active":"",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.choose(n)}}},[e._v("\n\t\t\t\t\t "+e._s(n.name)+"\n\t\t\t\t  ")])})),0)])],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.hide}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)},b=[],x=(n("28a5"),n("6590")),y={mixins:[x["a"]],data:function(){return{preUrl:"skus",loading:!1,createModel:!1,callback:!1,chooseList:[],skuIndex:0,skusList:[]}},computed:{skuItems:function(){var e=this.skusList[this.skuIndex];return e?e.list:[]},isChooseAll:function(){return this.skuItems.length===this.chooseList.length}},methods:{getListResult:function(e){console.log(e.list),this.skusList=e.list.map((function(e){var t=e.default.split(",");return e.list=t.map((function(e){return{name:e,image:"",color:"",ischeck:!1}})),e}))},chooseSkus:function(e){this.callback=e,this.createModel=!0},confirm:function(){if("function"===typeof this.callback){var e=this.skusList[this.skuIndex];this.callback({id:e.id,name:e.name,type:e.type,list:this.chooseList})}this.hide()},hide:function(){this.unChooseAll(),this.createModel=!1,this.callback=!1},changeSku:function(e){this.unChooseAll(),this.skuIndex=e},choose:function(e){if(!e.ischeck)return this.chooseList.push(e),e.ischeck=!0;var t=this.chooseList.findIndex((function(t){return t.id===e.id}));t<0||(this.chooseList.splice(t,1),e.ischeck=!1)},doChooseAll:function(){var e=this.skusList[this.skuIndex].list;if(this.isChooseAll)return this.unChooseAll();this.chooseList=e.map((function(e){return e.ischeck=!0,e}))},unChooseAll:function(){var e=this.skusList[this.skuIndex].list;return e.forEach((function(e){e.ischeck=!1})),this.chooseList=[]}}},_=y,w=(n("9354"),Object(f["a"])(_,v,b,!1,null,null,null)),L=w.exports,C={components:{imageDialog:k,skusDialog:L},name:"app",provide:function(){return{app:this}},data:function(){return{maxChooseImage:9}},created:function(){this.$store.commit("initUser"),this.$store.commit("initNavBar")},methods:{chooseImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;this.maxChooseImage=t,this.$refs.imageDialog.chooseImage(e)},chooseSkus:function(e){this.$refs.skusDialog.chooseSkus(e)},handleRoutes:function(){console.log(this.$router.getRoutes())}}},S=C,I=(n("b288"),Object(f["a"])(S,c,u,!1,null,null,null)),O=I.exports,P=n("5c96"),A=n.n(P);n("c69f");i["default"].use(A.a);var z=n("8c4f"),j=(n("a481"),n("53ca")),$=[{path:"/",name:"layout",redirect:{name:"index"},component:"layout",children:[{meta:{title:"后台首页"},component:"index/index"},{meta:{title:"商品列表"},component:"shop/goods/list"},{meta:{title:"创建商品"},component:"shop/goods/create"},{meta:{title:"修改商品详情"},component:"shop/goods/content"},{meta:{title:"媒体设置"},component:"shop/goods/banner"},{meta:{title:"商品属性"},component:"shop/goods/attr"},{meta:{title:"商品规格"},component:"shop/goods/sku"},{meta:{title:"相册管理"},component:"image/index"},{meta:{title:"分类管理"},component:"shop/category/list"},{meta:{title:"商品规格管理"},component:"shop/sku/list"},{meta:{title:"商品类型管理"},component:"shop/type/list"},{meta:{title:"商品评论管理"},component:"shop/comment/list"},{meta:{title:"发票管理"},component:"order/invoice/list"},{meta:{title:"售后服务"},component:"order/after-sale/list"},{meta:{title:"订单列表"},component:"order/order/list"},{meta:{title:"会员列表"},component:"user/user-list/list"},{meta:{title:"会员等级"},component:"user/user-level/list"},{meta:{title:"基础设置"},component:"set/base/index"},{meta:{title:"物流设置"},component:"set/express/index"},{meta:{title:"管理员管理"},component:"set/manager/index"},{meta:{title:"交易设置"},component:"set/payment/index"},{meta:{title:"404错误"},component:"error/404"}]},{meta:{title:"登录页"},component:"login/index"},{path:"*",redirect:{name:"index"}}],N=function(){return B($),$};function B(e){for(var t=function(){if(!e[i].component)return{v:void 0};var t=M(e[i].component);e[i].name=e[i].name||t.replace(/\//g,"_"),e[i].path=e[i].path||"/".concat(t);var a=n("1a5d")("./".concat(e[i].component,".vue"));e[i].component=function(){return a},e[i].children&&e[i].children.length>0&&B(e[i].children)},i=0;i<e.length;i++){var a=t();if("object"===Object(j["a"])(a))return a.v}}function M(e){var t=e.lastIndexOf("/"),n=e.substring(t+1,e.length);return"index"===n?e.substring(t,-1):e}var T=N();i["default"].use(z["a"]);var U=new z["a"]({routes:T});U.beforeEach((function(e,t,n){var a=window.sessionStorage.getItem("token"),s=window.sessionStorage.getItem("user");if(a){if("/login"===e.path)return i["default"].prototype.$message.error("请不要重复登录"),n({name:t.name?t.name:"index"});if("error_404"!==e.name){if(s&&(s=JSON.parse(s),1===s.super))return n();var o=window.sessionStorage.getItem("rules");o=o?JSON.parse(o):[];var r=o.findIndex((function(t){return t.rule_id>0&&t.desc===e.name}));if(-1===r)return i["default"].prototype.$message.error("你没有权限"),n({name:t.name?t.name:"error_404"})}n()}else{if("/login"===e.path)return n();i["default"].prototype.$message.error("请先登录"),n({path:"/login"})}}));var E=U,D=n("2f62"),F={cartesianProductOf:function(){return Array.prototype.reduce.call(arguments,(function(e,t){var n=[];return e.forEach((function(e){t.forEach((function(t){n.push(e.concat([t]))}))})),n}),[[]])},swapArray:function(e,t,n){return e[t]=e.splice(n,1,e[t])[0],e},moveUp:function(e,t){this.swapArray(e,t,t-1)},moveDown:function(e,t){this.swapArray(e,t,t+1)}},J={state:{skus_type:0,title:"",category:[],desc:"",unit:"",stock:0,min_stock:0,display_stock:0,status:0,express:"",banners:[],oprice:0,pprice:0,cprice:0,weight:0,volume:0,sku_card:[],goods_type_id:"",goods_attrs:{phone_model:""},discount:0,ths:[{name:"商品规格",rowspan:1,colspan:1,width:""},{name:"sku图片",rowspan:2,width:"60"},{name:"销售价",rowspan:2,width:"100"},{name:"市场价",rowspan:2,width:"100"},{name:"成本价",rowspan:2,width:"100"},{name:"库存",rowspan:2,width:"100"},{name:"体积",rowspan:2,width:"100"},{name:"重量",rowspan:2,width:"100"},{name:"编码",rowspan:2,width:"100"}]},getters:{skuLabels:function(e){return e.sku_card.filter((function(e){return e.list.length>0}))},tableThs:function(e,t){var n=t.skuLabels.length;return e.ths[0].colspan=n,e.ths[0].rowspan=n>0?1:2,e.ths},tableData:function(e){if(0===e.sku_card.length)return[];for(var t=[],n=0;n<e.sku_card.length;n++)e.sku_card[n].list.length>0&&t.push(e.sku_card[n].list);if(0===t.length)return[];var i=F.cartesianProductOf.apply(F,t);return i.map((function(e){var t={skus:[],image:"",pprice:0,oprice:0,cprice:0,stock:0,volume:0,weight:0,code:""};return t.skus=e,t}))}},mutations:{vModelState:function(e,t){var n=t.key,i=t.value;e[n]=i},addSkuCard:function(e,t){e.sku_card.push(t)},delSkuCard:function(e,t){e.sku_card.splice(t,1)},vModelSkuCard:function(e,t){var n=t.key,i=t.index,a=t.value;e.sku_card[i][n]=a},sortSkuCard:function(e,t){var n=t.action,i=t.index;F[n](e.sku_card,i)},addSkuValue:function(e,t){var n=t.index,i=t.data;e.sku_card[n].list.push(i)},delSkuValue:function(e,t){var n=t.cardIndex,i=t.valueIndex;e.sku_card[n].list.splice(i,1)},updateSkuValue:function(e,t){var n=t.cardIndex,i=t.valueIndex,a=t.key,s=t.value;e.sku_card[n].list[i][a]=s},sortSkuValue:function(e,t){var n=t.index,i=t.value;e.sku_card[n].list=i},vModelGoodsAttrs:function(e,t){var n=t.key,i=t.value;e.goods_attrs[n]=i}},actions:{}},R={state:{user:{},token:!1},getters:{},mutations:{initUser:function(e){var t=window.sessionStorage.getItem("user");t&&(e.user=JSON.parse(t),e.token=e.user.token)},login:function(e,t){e.user=t,e.token=t.token,window.sessionStorage.setItem("user",JSON.stringify(e.user)),window.sessionStorage.setItem("token",e.token)},logout:function(e){e.user={},e.token=!1,window.sessionStorage.clear()}},actions:{}},V={state:{navBar:{active:"0",list:[]}},getters:{adminIndex:function(e){if(0===e.navBar.list.length)return"error_404";var t=e.navBar.list[0].submenu[0];return t?t.pathname:void 0}},mutations:{createNavBar:function(e,t){var n=t.map((function(e){var t=e.child.map((function(e){return{icon:e.icon,name:e.name,pathname:e.desc}}));return{name:e.name,subActive:"0",submenu:t}}));e.navBar.list=n,window.sessionStorage.setItem("navBar",JSON.stringify(e.navBar))},initNavBar:function(e){var t=window.sessionStorage.getItem("navBar");t=t?JSON.parse(t):{active:"0",list:[]},e.navBar=t}},actions:{}};i["default"].use(D["a"]);var q=new D["a"].Store({modules:{goods_create:J,user:R,menu:V}}),G=n("ec09"),H=n.n(G),K={logo:"UNI-ADMIN",navBar:{active:"0",list:[{name:"首页",subActive:"0",submenu:[{icon:"el-icon-s-home",name:"后台首页",pathname:"index"},{icon:"el-icon-picture",name:"相册管理",pathname:"image"},{icon:"el-icon-s-claim",name:"商品列表",pathname:"shop_goods_list"}]},{name:"商品",subActive:"0",submenu:[{icon:"el-icon-s-claim",name:"商品列表",pathname:"shop_goods_list"},{icon:"el-icon-s-help",name:"分类列表",pathname:"shop_category_list"},{icon:"el-icon-s-help",name:"商品规格",pathname:"shop_sku_list"},{icon:"el-icon-s-help",name:"商品类型",pathname:"shop_type_list"},{icon:"el-icon-s-help",name:"商品评论",pathname:"shop_comment_list"}]},{name:"订单",subActive:"0",submenu:[{icon:"el-icon-s-claim",name:"订单管理",pathname:"order_order_list"},{icon:"el-icon-s-claim",name:"发票管理",pathname:"order_invoice_list"},{icon:"el-icon-s-claim",name:"售后服务",pathname:"order_after-sale_list"}]},{name:"会员",subActive:"0",submenu:[{icon:"el-icon-s-claim",name:"会员列表",pathname:"user_user-list_list"},{icon:"el-icon-s-claim",name:"会员等级",pathname:"user_user-level_list"}]},{name:"设置",subActive:"0",submenu:[{icon:"el-icon-s-claim",name:"基础设置",pathname:"set_base"},{icon:"el-icon-s-claim",name:"物流设置",pathname:"set_express"},{icon:"el-icon-s-claim",name:"管理员管理",pathname:"set_manager"},{icon:"el-icon-s-claim",name:"交易设置",pathname:"set_payment"}]}]}},Q=null,W=0;function X(){0===W&&(Q=Object(P["Message"])({message:"加载中...",duration:0})),W++}function Y(){W>0&&W--,Q&&0===W&&Q.close()}axios.interceptors.request.use((function(e){var t=window.sessionStorage.getItem("token");return!0===e.token&&(e.headers["token"]=t),!0===e.loading&&X(),e}),(function(e){return Y(),Promise.reject(e)})),axios.interceptors.response.use((function(e){return console.log("响应拦截器 成功"),Y(),e}),(function(e){return e.response&&e.response.data&&e.response.data.errorCode&&P["Message"].error(e.response.data.msg),Y(),Promise.reject(e)})),i["default"].use(H.a),i["default"].prototype.$conf=K,i["default"].directive("auth",{inserted:function(e,t,n,i){var a=window.sessionStorage.getItem("user");if(a=a?JSON.parse(a):{},!a.super){var s=a.ruleNames?a.ruleNames:[],o=s.find((function(e){return e===t.value}));o||e.parentNode.removeChild(e)}}}),i["default"].config.productionTip=!1,new i["default"]({router:E,store:q,render:function(e){return e(O)}}).$mount("#app")},6590:function(e,t,n){"use strict";n("6b54");t["a"]={data:function(){return{preUrl:"",page:{current:1,sizes:[10,20,50,100],size:10,total:0},multipleSelection:[],loading:!0}},filters:{numToString:function(e){return e.toString()}},created:function(){this.getList()},computed:{ids:function(){return this.multipleSelection.map((function(e){return e.id}))}},methods:{showLoading:function(){this.loading&&this.layout.showLoading()},hideLoading:function(){this.loading&&this.layout.hideLoading()},getListResult:function(e){},getListUrl:function(){return"/admin/".concat(this.preUrl,"/").concat(this.page.current,"?limit=").concat(this.page.size)},getList:function(){var e=this;if(""!=this.preUrl){this.showLoading();var t=this.getListUrl();this.axios.get(t,{token:!0}).then((function(t){var n=t.data.data;e.page.total=n.totalCount,e.getListResult(n),e.hideLoading()})).catch((function(t){e.hideLoading()}))}},addOrEdit:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.showLoading();var i=n>0?"修改":"增加",a=n>0?"/admin/"+this.preUrl+"/"+n:"/admin/"+this.preUrl;this.axios.post(a,e,{token:!0}).then((function(e){t.$message({message:i+"成功",type:"success"}),t.getList(),t.hideLoading()})).catch((function(e){t.hideLoading()}))},deleteAllUrl:function(){return"/admin/"+this.preUrl+"/delete_all"},deleteAll:function(){var e=this;if(0===this.ids.length)return this.$message({message:"请先选中需要删除的信息",type:"error"});this.$confirm("是否要删除选中规格?","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){e.showLoading();var t=e.deleteAllUrl();e.axios.post(t,{ids:e.ids},{token:!0}).then((function(t){e.multipleSelection=[],e.$message({message:"删除成功",type:"success"}),e.getList(),e.hideLoading()})).catch((function(t){e.hideLoading()}))}))},changeStatus:function(e){var t=this,n=1===e.status?0:1,i=1===n?"启用":"禁用";this.showLoading(),this.axios.post("/admin/"+this.preUrl+"/"+e.id+"/update_status",{status:n},{token:!0}).then((function(a){e.status=n,t.$message({message:i+"成功",type:"success"}),t.hideLoading()})).catch((function(e){t.hideLoading()}))},deleteItem:function(e){var t=this;this.$confirm("是否要删除该规格?","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){t.showLoading(),t.axios.post("/admin/"+t.preUrl+"/"+e.id+"/delete",{},{token:!0}).then((function(e){t.$message({message:"删除成功",type:"success"}),t.getList(),t.hideLoading()})).catch((function(e){t.hideLoading()}))}))},handleSelectionChange:function(e){this.multipleSelection=e},handleSizeChange:function(e){this.page.size=e,this.getList()},handleCurrentChange:function(e){this.page.current=e,this.getList()}}}},"89d5":function(e,t,n){},9354:function(e,t,n){"use strict";n("89d5")},b288:function(e,t,n){"use strict";n("f4d0")},b832:function(e,t,n){"use strict";n("7f7f");var i=function(){var e=this,t=e._self._c;return t("li",{staticClass:"list-group-item list-group-item-action d-flex align-items-center",class:{"active sum-active":e.active},staticStyle:{cursor:"pointer"},on:{click:function(t){return t.stopPropagation(),e.$emit("change",e.index)}}},[e._v("\n\t"+e._s(e.item.name)+"  \n\t\n\t"),e.showOptions?t("el-dropdown",{staticClass:"ml-auto"},[t("span",{staticClass:"btn btn-light btn-sm border"},[e._v("\n\t\t"+e._s(e.item.images_count)+"\n\t\t"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{nativeOn:{click:function(t){return t.stopPropagation(),e.$emit("edit",{item:e.item,index:e.index})}}},[e._v("修改")]),t("el-dropdown-item",{nativeOn:{click:function(t){return t.stopPropagation(),e.$emit("del",e.index)}}},[e._v("\n\t\t删除")])],1)],1):t("span",{staticClass:"btn btn-light btn-sm border ml-auto"},[e._v("\n\t\t"+e._s(e.item.images_count)+"\n\t")])],1)},a=[],s=(n("c5f6"),{props:{active:{type:Boolean,default:!1},item:Object,index:Number,showOptions:{type:Boolean,default:!0}}}),o=s,r=n("2877"),c=Object(r["a"])(o,i,a,!1,null,null,null);t["a"]=c.exports},c69f:function(e,t,n){},f4d0:function(e,t,n){}});
//# sourceMappingURL=app.bc61d483.js.map