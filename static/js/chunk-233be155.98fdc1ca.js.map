{"version":3,"sources":["webpack:///./src/views/shop/goods/sku.vue","webpack:///src/views/shop/goods/sku.vue","webpack:///./src/views/shop/goods/sku.vue?538a","webpack:///./src/views/shop/goods/sku.vue?923f","webpack:///./src/views/shop/goods/sku.vue?0492"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","name","_v","ref","skus_type","on","$event","vModel","model","value","sku_value","oprice","callback","$$v","$set","expression","slot","pprice","cprice","weight","volume","_l","sku_card","item","index","key","skuCardTotal","addSkuCardEvent","updateAllStatus","UpdateAllPlaceholder","UpdateAllValue","UpdateAllSubmit","closeUpdateAllStatus","updateList","btn","btnIndex","openUpdateAllStatus","_s","submit","staticRenderFns","inject","components","singleAttrs","skuCard","skuTable","data","id","computed","_objectSpread","mapState","state","goods_create","length","created","_this","$route","params","$message","type","message","$router","push","layout","showLoading","defaultVal","axios","get","token","then","res","goodsSkusCard","map","list","goodsSkusCardValue","v","text","color","image","sku_type","$nextTick","$refs","table","goodsSkus","hideLoading","catch","err","methods","mapMutations","_this2","post","goods_id","order","addSkuCard","vModelState","_this3","forEach","_this4","component"],"mappings":"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","file":"js/chunk-233be155.98fdc1ca.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"bg-white px-3 goods_create\",staticStyle:{\"margin\":\"-20px\",\"margin-top\":\"-1rem\",\"margin-bottom\":\"0!important\"}},[_c('router-link',{staticStyle:{\"position\":\"absolute\",\"top\":\"12px\",\"left\":\"200px\"},attrs:{\"to\":{name:'shop_goods_list'}}},[_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"回到商品列表\")])],1),_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品规格\"}},[_c('el-radio-group',{attrs:{\"value\":_vm.skus_type,\"size\":\"medium\"},on:{\"input\":function($event){return _vm.vModel('skus_type',$event)}}},[_c('el-radio-button',{attrs:{\"label\":0}},[_vm._v(\"\\n\\t\\t\\t\\t\\t单一规格\")]),_c('el-radio-button',{attrs:{\"label\":1}},[_vm._v(\"\\n\\t\\t\\t\\t\\t多规格\")])],1)],1)],1),(_vm.skus_type === 0)?[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"市场价格\"}},[_c('el-input',{staticClass:\"w-25\",attrs:{\"type\":\"number\"},model:{value:(_vm.sku_value.oprice),callback:function ($$v) {_vm.$set(_vm.sku_value, \"oprice\", $$v)},expression:\"sku_value.oprice\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_c('el-form-item',{attrs:{\"label\":\"销售价格\"}},[_c('el-input',{staticClass:\"w-25\",attrs:{\"type\":\"number\"},model:{value:(_vm.sku_value.pprice),callback:function ($$v) {_vm.$set(_vm.sku_value, \"pprice\", $$v)},expression:\"sku_value.pprice\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_c('el-form-item',{attrs:{\"label\":\"成本价格\"}},[_c('el-input',{staticClass:\"w-25\",attrs:{\"type\":\"number\"},model:{value:(_vm.sku_value.cprice),callback:function ($$v) {_vm.$set(_vm.sku_value, \"cprice\", $$v)},expression:\"sku_value.cprice\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_c('el-form-item',{attrs:{\"label\":\"商品重量\"}},[_c('el-input',{staticClass:\"w-25\",attrs:{\"type\":\"number\"},model:{value:(_vm.sku_value.weight),callback:function ($$v) {_vm.$set(_vm.sku_value, \"weight\", $$v)},expression:\"sku_value.weight\"}},[_c('template',{slot:\"append\"},[_vm._v(\"公斤\")])],2)],1),_c('el-form-item',{attrs:{\"label\":\"商品体积\"}},[_c('el-input',{staticClass:\"w-25\",attrs:{\"type\":\"number\"},model:{value:(_vm.sku_value.volume),callback:function ($$v) {_vm.$set(_vm.sku_value, \"volume\", $$v)},expression:\"sku_value.volume\"}},[_c('template',{slot:\"append\"},[_vm._v(\"立方米\")])],2)],1)],1)]:[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"添加规格\"}},[_vm._l((_vm.sku_card),function(item,index){return _c('sku-card',{key:index,attrs:{\"item\":item,\"index\":index,\"total\":_vm.skuCardTotal}})}),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":_vm.addSkuCardEvent}},[_vm._v(\"添加规格\")])],2)],1),_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"批量设置\"}},[(!_vm.updateAllStatus)?_vm._l((_vm.updateList),function(btn,btnIndex){return _c('el-button',{key:btnIndex,attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.openUpdateAllStatus(btn)}}},[_vm._v(_vm._s(btn.name))])}):_c('div',{staticClass:\"d-flex align-items-center\"},[_c('el-input',{staticClass:\"mr-2\",staticStyle:{\"width\":\"150px\"},attrs:{\"size\":\"small\",\"type\":\"number\",\"placeholder\":_vm.UpdateAllPlaceholder},model:{value:(_vm.UpdateAllValue),callback:function ($$v) {_vm.UpdateAllValue=$$v},expression:\"UpdateAllValue\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.UpdateAllSubmit}},[_vm._v(\"设置\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.closeUpdateAllStatus}},[_vm._v(\"取消\")])],1)],2),_c('el-form-item',{attrs:{\"label\":\"规格设置\"}},[_c('sku-table',{ref:\"table\"})],1)],1)],_c('el-button',{staticStyle:{\"position\":\"fixed\",\"bottom\":\"50px\",\"right\":\"50px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"bg-white px-3 goods_create\" style=\"margin: -20px;margin-top: -1rem;margin-bottom: 0!important;\">\r\n\t\t<router-link :to=\"{name:'shop_goods_list'}\" style=\"position: absolute;top: 12px;left: 200px;\">\r\n\t\t\t<el-button size=\"mini\">回到商品列表</el-button>\r\n\t\t</router-link>\r\n\t\t\r\n\t\t<!-- 规格选项 -->\r\n\t\t<el-form ref=\"form\" label-width=\"80px\">\r\n\t\t\t<el-form-item label=\"商品规格\">\r\n\t\t\t\t<el-radio-group :value=\"skus_type\" \r\n\t\t\t\t@input=\"vModel('skus_type',$event)\" \r\n\t\t\t\tsize=\"medium\">\r\n\t\t\t\t\t<el-radio-button :label=\"0\">\r\n\t\t\t\t\t\t单一规格</el-radio-button>\r\n\t\t\t\t\t<el-radio-button :label=\"1\">\r\n\t\t\t\t\t\t多规格</el-radio-button>\r\n\t\t\t\t</el-radio-group>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t\r\n\t\t<!-- 单规格 -->\r\n\t\t<template v-if=\"skus_type === 0\">\r\n\t\t\t<el-form ref=\"form\" label-width=\"80px\">\r\n\t\t\t\t<el-form-item label=\"市场价格\">\r\n\t\t\t\t\t<el-input type=\"number\" v-model=\"sku_value.oprice\" class=\"w-25\">\r\n\t\t\t\t\t\t<template slot=\"append\">元</template>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"销售价格\">\r\n\t\t\t\t\t<el-input type=\"number\" v-model=\"sku_value.pprice\" class=\"w-25\">\r\n\t\t\t\t\t\t<template slot=\"append\">元</template>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"成本价格\">\r\n\t\t\t\t\t<el-input type=\"number\" v-model=\"sku_value.cprice\" class=\"w-25\">\r\n\t\t\t\t\t\t<template slot=\"append\">元</template>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"商品重量\">\r\n\t\t\t\t\t<el-input type=\"number\" v-model=\"sku_value.weight\" class=\"w-25\">\r\n\t\t\t\t\t\t<template slot=\"append\">公斤</template>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"商品体积\">\r\n\t\t\t\t\t<el-input type=\"number\" v-model=\"sku_value.volume\" class=\"w-25\">\r\n\t\t\t\t\t\t<template slot=\"append\">立方米</template>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</template>\r\n\t\t<!-- 多规格 -->\r\n\t\t<template v-else>\r\n\t\t\t<!-- 规格卡片 -->\r\n\t\t\t<el-form ref=\"form\" label-width=\"80px\">\r\n\t\t\t\t<el-form-item label=\"添加规格\">\r\n\t\t\t\t\t<sku-card v-for=\"(item,index) in sku_card\" \r\n\t\t\t\t\t:key=\"index\" :item=\"item\" :index=\"index\"\r\n\t\t\t\t\t:total=\"skuCardTotal\"></sku-card>\r\n\t\t\t\t\t<el-button type=\"success\"\r\n\t\t\t\t\tsize=\"mini\" @click=\"addSkuCardEvent\">添加规格</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<el-form ref=\"form\" label-width=\"80px\">\r\n\t\t\t\t<el-form-item label=\"批量设置\">\r\n\t\t\t\t\t<template v-if=\"!updateAllStatus\">\r\n\t\t\t\t\t\t<el-button type=\"text\"\r\n\t\t\t\t\t\tv-for=\"(btn,btnIndex) in updateList\"\r\n\t\t\t\t\t\t:key=\"btnIndex\"\r\n\t\t\t\t\t\t@click=\"openUpdateAllStatus(btn)\"\r\n\t\t\t\t\t\t>{{btn.name}}</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<div v-else class=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t<el-input size=\"small\" style=\"width: 150px;\" class=\"mr-2\" type=\"number\" v-model=\"UpdateAllValue\" :placeholder=\"UpdateAllPlaceholder\"></el-input>\r\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\"\r\n\t\t\t\t\t\t@click=\"UpdateAllSubmit\">设置</el-button>\r\n\t\t\t\t\t\t<el-button size=\"mini\" @click=\"closeUpdateAllStatus\">取消</el-button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"规格设置\">\r\n\t\t\t\t\t<sku-table ref=\"table\"></sku-table>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</template>\r\n\t\t\r\n\t\t<el-button type=\"primary\" style=\"position: fixed;bottom: 50px;right: 50px;\" @click=\"submit\">提交</el-button>\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState,mapMutations} from \"vuex\"\r\n\t\r\n\timport singleAttrs from '@/components/shop/create/single-attrs.vue';\r\n\timport skuCard from '@/components/shop/create/sku/sku-card.vue';\r\n\timport skuTable from '@/components/shop/create/sku-table.vue';\r\n\t\r\n\texport default {\r\n\t\tinject:['app','layout'],\r\n\t\tcomponents: {\r\n\t\t\tsingleAttrs,\r\n\t\t\tskuCard,\r\n\t\t\tskuTable,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tid:0,\r\n\t\t\t\tsku_value:{\r\n\t\t\t\t\toprice:0,\r\n\t\t\t\t\tpprice:0,\r\n\t\t\t\t\tcprice:0,\r\n\t\t\t\t\tweight:0,\r\n\t\t\t\t\tvolume:0\r\n\t\t\t\t},\r\n\t\t\t\t// 批量修改\r\n\t\t\t\tupdateList:[{\r\n\t\t\t\t\tname:\"销售价\",\r\n\t\t\t\t\tkey:\"pprice\"\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"市场价\",\r\n\t\t\t\t\tkey:\"oprice\"\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"成本价\",\r\n\t\t\t\t\tkey:\"cprice\"\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"库存\",\r\n\t\t\t\t\tkey:\"stock\"\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"体积\",\r\n\t\t\t\t\tkey:\"volume\"\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"重量\",\r\n\t\t\t\t\tkey:\"weight\"\r\n\t\t\t\t}],\r\n\t\t\t\tupdateAllStatus:false,\r\n\t\t\t\tUpdateAllPlaceholder:\"\",\r\n\t\t\t\tUpdateAllValue:\"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tskus_type:state=>state.goods_create.skus_type,\r\n\t\t\t\tsku_card:state=>state.goods_create.sku_card,\r\n\t\t\t}),\r\n\t\t\t// 规格卡片总数\r\n\t\t\tskuCardTotal(){\r\n\t\t\t\treturn this.sku_card.length\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.id = this.$route.params.id\r\n\t\t\tif (!this.id) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype:\"error\",\r\n\t\t\t\t\tmessage:\"非法参数\"\r\n\t\t\t\t})\r\n\t\t\t\treturn this.$router.push({\r\n\t\t\t\t\tname:\"shop_goods_list\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t// 获取之前的商品详情\r\n\t\t\tthis.layout.showLoading()\r\n\t\t\tlet defaultVal = ['属性值','#FFFFFF','/favicon.ico'];\r\n\t\t\tthis.axios.get('/admin/goods/read/'+this.id,{\r\n\t\t\t\ttoken:true\r\n\t\t\t}).then(res=>{\r\n\t\t\t\tlet data = res.data.data\r\n\t\t\t\tthis.vModel('sku_card',data.goodsSkusCard.map(item=>{\r\n\t\t\t\t\titem.list = item.goodsSkusCardValue\r\n\t\t\t\t\titem.list.map(v=>{\r\n\t\t\t\t\t\tv.text = item.type === 0 ? v.value : defaultVal[0]\r\n\t\t\t\t\t\tv.color = item.type === 1 ? v.value : defaultVal[1]\r\n\t\t\t\t\t\tv.image = item.type === 2 ? v.value : defaultVal[2]\r\n\t\t\t\t\t\treturn v\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn item\r\n\t\t\t\t}))\r\n\t\t\t\tthis.vModel('skus_type',data.sku_type)\r\n\t\t\t\tthis.sku_value = data.sku_value ? data.sku_value : {\r\n\t\t\t\t\toprice:0,\r\n\t\t\t\t\tpprice:0,\r\n\t\t\t\t\tcprice:0,\r\n\t\t\t\t\tweight:0,\r\n\t\t\t\t\tvolume:0\r\n\t\t\t\t},\r\n\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\tif(this.$refs.table){\r\n\t\t\t\t\t\tthis.$refs.table.list = data.goodsSkus\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t}).catch(err=>{\r\n\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['vModelState','addSkuCard','vModelGoodsAttrs']),\r\n\t\t\taddSkuCardEvent(){\r\n\t\t\t\tthis.layout.showLoading()\r\n\t\t\t\tthis.axios.post('/admin/goods_skus_card',{\r\n\t\t\t\t\tgoods_id:this.id,\r\n\t\t\t\t\tname:\"规格名称\",\r\n\t\t\t\t\torder:50,\r\n\t\t\t\t\ttype:0\r\n\t\t\t\t},{ token:true }).then(res=>{\r\n\t\t\t\t\tlet data = res.data.data\r\n\t\t\t\t\tdata.list = []\r\n\t\t\t\t\tthis.addSkuCard(data)\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 修改表单的值\r\n\t\t\tvModel(key,value){\r\n\t\t\t\tthis.vModelState({ key,value })\r\n\t\t\t},\r\n\t\t\t// 修改批量设置状态\r\n\t\t\topenUpdateAllStatus(item){\r\n\t\t\t\tthis.updateAllStatus = item.key\r\n\t\t\t\tthis.UpdateAllPlaceholder = item.name\r\n\t\t\t},\r\n\t\t\t// 取消批量设置状态\r\n\t\t\tcloseUpdateAllStatus(){\r\n\t\t\t\tthis.updateAllStatus = false\r\n\t\t\t\tthis.UpdateAllValue = \"\"\r\n\t\t\t},\r\n\t\t\t// 提交批量设置\r\n\t\t\tUpdateAllSubmit(){\r\n\t\t\t\tthis.$refs.table.list.forEach(item=>{\r\n\t\t\t\t\titem[this.updateAllStatus] = this.UpdateAllValue\r\n\t\t\t\t})\r\n\t\t\t\tthis.closeUpdateAllStatus()\r\n\t\t\t},\r\n\t\t\tsubmit(){\r\n\t\t\t\tlet list = []\r\n\t\t\t\tif(this.$refs.table){\r\n\t\t\t\t\tlist = this.$refs.table.list.map(item=>{\r\n\t\t\t\t\t\titem.goods_id = this.id\r\n\t\t\t\t\t\treturn item\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthis.layout.showLoading()\r\n\t\t\t\tthis.axios.post('/admin/goods/updateskus/'+this.id,{\r\n\t\t\t\t\tsku_type:this.skus_type,\r\n\t\t\t\t\tsku_value:this.sku_value,\r\n\t\t\t\t\tgoodsSkus:list\r\n\t\t\t\t},{ token:true }).then(res=>{\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype:\"success\",\r\n\t\t\t\t\t\tmessage:\"修改成功\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname:\"shop_goods_list\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tthis.layout.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.goods_create .el-form-item{\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sku.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sku.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./sku.vue?vue&type=template&id=bb230f26&\"\nimport script from \"./sku.vue?vue&type=script&lang=js&\"\nexport * from \"./sku.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sku.vue?vue&type=style&index=0&id=bb230f26&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sku.vue?vue&type=style&index=0&id=bb230f26&prod&lang=css&\""],"sourceRoot":""}