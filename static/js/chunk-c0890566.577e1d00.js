(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c0890566"],{1325:function(t,e,o){},af2c:function(t,e,o){"use strict";o("1325")},e3fc:function(t,e,o){"use strict";o.r(e);o("7f7f");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white px-3 goods_create",staticStyle:{margin:"-20px","margin-top":"-1rem","margin-bottom":"0!important"}},[e("router-link",{staticStyle:{position:"absolute",top:"12px",left:"200px"},attrs:{to:{name:"shop_goods_list"}}},[e("el-button",{attrs:{size:"mini"}},[t._v("回到商品列表")])],1),e("el-form",{ref:"form",attrs:{"label-width":"80px"}},[e("el-form-item",{attrs:{label:"商品名称"}},[e("el-input",{staticClass:"w-50",attrs:{placeholder:"请输入商品名称，不能超过60个字符"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),e("el-form-item",{attrs:{label:"封面"}},[e("div",[t.form.cover?e("img",{staticClass:"rounded",staticStyle:{width:"45px",height:"45px",cursor:"pointer"},attrs:{src:t.form.cover},on:{click:t.chooseImage}}):e("span",{staticClass:"btn btn-light border mr-2",on:{click:t.chooseImage}},[e("i",{staticClass:"el-icon-plus"})])])]),e("el-form-item",{attrs:{label:"商品分类"}},[e("el-select",{attrs:{placeholder:"请选择商品分类"},model:{value:t.form.category_id,callback:function(e){t.$set(t.form,"category_id",e)},expression:"form.category_id"}},t._l(t.cates,(function(o,s){return e("el-option",{key:s,attrs:{label:t._f("tree")(o),value:o.id}})})),1)],1),e("el-form-item",{attrs:{label:"商品描述"}},[e("el-input",{staticClass:"w-50",attrs:{type:"textarea",placeholder:"选填，商品卖点简述，例如：此款商品美观大方 性价比较高 不容错过"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),e("el-form-item",{attrs:{label:"商品单位"}},[e("el-input",{staticClass:"w-50",attrs:{placeholder:"请输入商品单位"},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}})],1),e("el-form-item",{attrs:{label:"总库存"}},[e("el-input",{staticClass:"w-25",attrs:{type:"number"},model:{value:t.form.stock,callback:function(e){t.$set(t.form,"stock",e)},expression:"form.stock"}},[e("template",{slot:"append"},[t._v("件")])],2)],1),e("el-form-item",{attrs:{label:"库存预警"}},[e("el-input",{staticClass:"w-25",attrs:{type:"number"},model:{value:t.form.min_stock,callback:function(e){t.$set(t.form,"min_stock",e)},expression:"form.min_stock"}},[e("template",{slot:"append"},[t._v("件")])],2)],1),e("el-form-item",{attrs:{label:"最低销售价"}},[e("el-input",{staticClass:"w-25",attrs:{type:"number"},model:{value:t.form.min_price,callback:function(e){t.$set(t.form,"min_price",e)},expression:"form.min_price"}},[e("template",{slot:"append"},[t._v("元")])],2)],1),e("el-form-item",{attrs:{label:"最低原价"}},[e("el-input",{staticClass:"w-25",attrs:{type:"number"},model:{value:t.form.min_oprice,callback:function(e){t.$set(t.form,"min_oprice",e)},expression:"form.min_oprice"}},[e("template",{slot:"append"},[t._v("元")])],2)],1),e("el-form-item",{attrs:{label:"库存显示"}},[e("el-radio-group",{model:{value:t.form.stock_display,callback:function(e){t.$set(t.form,"stock_display",e)},expression:"form.stock_display"}},[e("el-radio",{attrs:{label:1,border:""}},[t._v("是")]),e("el-radio",{attrs:{label:0,border:""}},[t._v("否")])],1)],1),e("el-form-item",{attrs:{label:"是否上架"}},[e("el-radio-group",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[e("el-radio",{attrs:{label:0,border:""}},[t._v("放入仓库")]),e("el-radio",{attrs:{label:1,border:""}},[t._v("立即上架")])],1)],1),e("el-form-item",{attrs:{label:"运费模板"}},[e("el-select",{attrs:{placeholder:"请选择运费模板"},model:{value:t.form.express_id,callback:function(e){t.$set(t.form,"express_id",e)},expression:"form.express_id"}},t._l(t.express,(function(t,o){return e("el-option",{key:o,attrs:{label:t.name,value:t.id}})})),1)],1)],1),e("el-button",{staticStyle:{position:"fixed",bottom:"50px",right:"50px"},attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")])],1)},a=[],i={inject:["app","layout"],data:function(){return{id:0,cates:[],express:[],form:{title:"",category_id:"",cover:"",desc:"",unit:"",stock:"",min_stock:"",ischeck:0,status:0,stock_display:0,express_id:"",min_price:"",min_oprice:""}}},filters:{tree:function(t){if(0==t.level)return t.name;for(var e="",o=0;o<t.level;o++)e+=0==o?"|--":"--";return e+" "+t.name}},created:function(){var t=this;this.id=this.$route.params.id,this.id&&(this.layout.showLoading(),this.axios.get("/admin/goods/read/"+this.id,{token:!0}).then((function(e){var o=e.data.data;t.form=o,t.layout.hideLoading()})).catch((function(e){t.layout.hideLoading()}))),this.axios.get("/admin/goods/create",{token:!0}).then((function(e){var o=e.data.data;console.log(o),t.cates=o.cates,t.express=o.express.list}))},methods:{chooseImage:function(){var t=this;this.app.chooseImage((function(e){t.form.cover=e[0].url}),1)},submit:function(){var t=this;this.layout.showLoading();var e=this.id?"/admin/goods/"+this.id:"/admin/goods";this.axios.post(e,this.form,{token:!0}).then((function(e){t.$message({type:"success",message:t.id?"修改成功":"发布成功"}),t.$router.push({name:"shop_goods_list"}),t.layout.hideLoading()})).catch((function(e){t.layout.hideLoading()}))}}},r=i,l=(o("af2c"),o("2877")),n=Object(l["a"])(r,s,a,!1,null,null,null);e["default"]=n.exports}}]);
//# sourceMappingURL=chunk-c0890566.577e1d00.js.map